<!-- Modal -->
<div class="modal" id="redeemOrderModal" tabindex="-1" role="dialog" aria-labelledby="redeemOrderModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="redeemOrderModalLabel">Redeem Coupon</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
          <form class="form-inline">
              <div class="form-group mx-sm-3 mb-2">
                <label for="couponText" class="sr-only">Enter Coupon Code</label>
                <input type="search" class="form-control" id="couponText"
                 placeholder="Enter Coupon Code" #couponText>
              </div>
              <button type="button" class="btn btn-primary mb-2"  (click)="findOrderByCoupon(couponText)">Find</button>
            </form>
        <span *ngIf="invalid">Coupon is invalid</span>
        <span *ngIf="orderNotReady">Order Not Ready</span>
        <span *ngIf="orderAlreadyDelivered">Order Already Delivered</span>
        <span *ngIf="redeemed">Coupon has been successfully redeemed</span>
        <div *ngIf="order!=null">
          <p></p>
          <table class="text-center table table-bordered" style="width:100%">
            <tr>
              <th>Order ID</th>
              <td>{{(order!=null)?order.orderId:''}}</td>
            </tr>
            <tr>
              <th>Customer ID</th>
              <td>{{(order!=null)?order.customer.id:''}}</td>
            </tr>
            <tr>
              <th>Customer Name</th>
              <td>{{(order!=null)?order.customer.firstName+' '+order.customer.lastName:''}}</td>
            </tr>
            <tr>
                <th>Order Time</th>
                <td>{{(order!=null)?(order.orderTime | date:'medium'):''}}</td>
              </tr>
              <tr>
                  <th>Products</th>
                  <td>
                    <!-- <ol>
                      <li *ngFor="let product of order.products">{{product.name}} - {{product.quantity}}</li>
                    </ol> -->
                    <table>
                        <tr><th>Product</th><th>Quantity</th><th>Price</th><th>Amount</th></tr>
                        <tr *ngFor="let product of order.products">
                          <td>{{product.name}}</td><td>{{product.quantity}}</td><td>{{product.price}}</td><td>{{product.price*product.quantity}}</td></tr>
                    </table>
                  </td>
                </tr>
                <tr>
                  <th>Amount</th>
                  <td>{{(orderAmount!=-1)?orderAmount:''}}</td>
                </tr>
          </table>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>

        <button type="button" [disabled]="order==null" (click)="redeem()" data-dismiss="modal" class="btn btn-primary">Deliver Order</button>

      </div>
    </div>
  </div>
</div>